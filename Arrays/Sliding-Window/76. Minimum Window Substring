class Solution {
    //Brute
    // public String minWindow(String s, String t) {
    //     int minLen = Integer.MAX_VALUE;
    //     int startIdx = -1;
    //     int endIdx = -1;
    //     for(int i=0;i<s.length();i++){
    //         int[] hash = new int[256];
    //         int count = 0;
    //         for(int j=0;j<t.length();j++){
    //             hash[t.charAt(j)]++;
    //         }
    //         for(int j=i;j<s.length();j++){
    //             if(hash[s.charAt(j)] > 0) count++;
    //             hash[s.charAt(j)]--;
    //             if(count == t.length()){
    //                 if(minLen > j-i+1){
    //                     minLen = j-i+1;
    //                     startIdx = i;
    //                     endIdx = j+1;
    //                     break;
    //                 }
    //             }
    //         }
    //     }
    //     return startIdx == -1 ? "" : s.substring(startIdx, endIdx);
    // }

    //opt
    public String minWindow(String s, String t) {
        int l = 0, r = 0, count = 0;
        int minLen = Integer.MAX_VALUE;
        int startIdx = -1, endIdx = -1;
        int[] hash = new int[256];

        //insert all t ele in hash array
        for(int i=0;i<t.length();i++){
            hash[t.charAt(i)]++;
        }
        //inserting and checking the min subarray
        while(r < s.length()){
            if(hash[s.charAt(r)] > 0) count++;
            hash[s.charAt(r)]--;
            while(count == t.length()){
                hash[s.charAt(l)]++;
                if(hash[s.charAt(l)] > 0) count--;
                if(minLen > r-l+1){
                    minLen = r-l+1;
                    startIdx = l;
                    endIdx = r+1;
                }
                l++;
            }
            r++;
        } 
        return startIdx == -1 ? "" : s.substring(startIdx, endIdx);  
    }
}
